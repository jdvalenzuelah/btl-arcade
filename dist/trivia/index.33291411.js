var current_question,finish_timeout,current_screen="START",current_streak=0,streak_to_win=3,time_per_question_s=15,question_timeleft_s=time_per_question_s,question_timer=setInterval(update_progress_bar,1e3),time_before_reset_ms=6e4,question_list=questions.questions;function reset_game(){console.log("reset game"),current_screen="START",current_streak=0,start_screen(),location.reload()}function reset_by_time(){clearTimeout(finish_timeout),reset_game()}function start_screen(){document.body.innerHTML='\n    <div id="start-text">Presiona "Start" para jugar</div>\n    <video id="background-video" autoplay muted loop> <source src="assets/start_scene_720.mp4" type="video/mp4"> </video>\n    '}function new_question_screen(){if(current_streak>=streak_to_win)you_win_screen();else{reset_question_timer(),console.log("new_question_screen"),hide("start-text");var e=Math.floor(Math.random()*question_list.length);current_question=question_list[e],question_list.splice(e,1),document.getElementById("question-text").innerHTML=`\n    ${current_question.text}\n    <br><br><br><br>\n    ${current_question.options}\n    `,show("question-text"),show("progress-bar")}}function you_lost_screen(){console.log("you lost screen"),hide("progress-bar"),hide("question-text"),finish_timeout=setTimeout(reset_by_time,time_before_reset_ms),show("lose-video"),loadVideo("lose-video"),current_screen="FINISHED",current_streak=0}function time_out_screen(){hide("idle-video"),hide("progress-bar"),hide("question-text"),show("lose-video"),finish_timeout=setTimeout(reset_by_time,time_before_reset_ms),current_screen="FINISHED",current_streak=0}function you_win_screen(){finish_timeout=setTimeout(reset_by_time,time_before_reset_ms),show("win-video"),loadVideo("win-video"),hide("question-text"),hide("progress-bar"),current_screen="FINISHED",current_streak=0}function update_progress_bar(){question_timeleft_s<=0&&(time_out_screen(),reset_question_timer()),"IN_QUESTION"==current_screen&&(document.getElementById("progress-bar").value=question_timeleft_s,question_timeleft_s-=1)}function reset_question_timer(){question_timeleft_s=time_per_question_s}function hide(e){document.getElementById(e).setAttribute("style","display: none;")}function show(e){document.getElementById(e).setAttribute("style","")}function loadVideo(e){document.getElementById(e).load()}document.addEventListener("keydown",(e=>{console.log(`current screen: ${current_screen}`),console.log(`current streak: ${current_streak}`);var t=e.key;e.code;"r"==t&&"START"==current_screen?window.location="/":"r"==t&&"START"!=current_screen?reset_game():"s"==t&&"START"==current_screen?(current_screen="IN_QUESTION",new_question_screen()):"IN_QUESTION"==current_screen&&("a"==current_question.answer&&"a"==t||"b"==current_question.answer&&"b"==t||"c"==current_question.answer&&"c"==t||"d"==current_question.answer&&"d"==t?(current_streak+=1,new_question_screen()):current_streak>=streak_to_win?you_win_screen():you_lost_screen())}),!1);
//# sourceMappingURL=index.33291411.js.map
