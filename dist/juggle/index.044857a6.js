!function(t,e,n,r,i){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof o[r]&&o[r],s=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,n){if(!s[e]){if(!t[e]){var i="function"==typeof o[r]&&o[r];if(!n&&i)return i(e,!0);if(a)return a(e,!0);if(l&&"string"==typeof e)return l(e);var f=new Error("Cannot find module '"+e+"'");throw f.code="MODULE_NOT_FOUND",f}h.resolve=function(n){var r=t[e][1][n];return null!=r?r:n},h.cache={};var c=s[e]=new u.Module(e);t[e][0].call(c.exports,h,c,c.exports,this)}return s[e].exports;function h(t){var e=h.resolve(t);return!1===e?{}:u(e)}}u.isParcelRequire=!0,u.Module=function(t){this.id=t,this.bundle=u,this.exports={}},u.modules=t,u.cache=s,u.parent=a,u.register=function(e,n){t[e]=[function(t,e){e.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return o[r]}}),o[r]=u;for(var f=0;f<e.length;f++)u(e[f]);if(n){var c=u(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}}({i4URm:[function(t,e,n){t("78d5f4e3e7471b").register(JSON.parse('{"962KW":"index.044857a6.js","eWMFD":"pose_landmark_full.1f8ddae2.tflite","MWgxI":"pose_solution_packed_assets_loader.bd8a3295.sj","1J4Jl":"pose_solution_simd_wasm_bin.1860836b.sj","c1EjN":"pose_solution_simd_wasm_bin.d19011cb.wasm","rpL3M":"pose_web.33901820.binarypb","24Etl":"pose_solution_packed_assets.7bcfebcd.data","5tZ7i":"selfie_segmentation.fd5c4052.binarypb","cuXAl":"selfie_segmentation_landscape.a397d7de.tflite","frTjF":"selfie_segmentation_solution_simd_wasm_bin.252a8b03.sj","02plv":"selfie_segmentation_solution_simd_wasm_bin.215c4cc5.wasm","ikao0":"index.55a7195a.js","gFIxA":"index.bc6d0f78.js"}'))},{"78d5f4e3e7471b":"fyJL2"}],fyJL2:[function(t,e,n){"use strict";var r={};e.exports.register=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)r[e[n]]=t[e[n]]},e.exports.resolve=function(t){var e=r[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}},{}],d129d:[function(t,e,n){var r=t("@parcel/transformer-js/src/esmodule-helpers.js"),i=t("url:./lib/pose_landmark_full.tflite"),o=r.interopDefault(i),a=t("url:./lib/pose_solution_packed_assets_loader.sj"),s=r.interopDefault(a),l=t("url:./lib/pose_solution_simd_wasm_bin.sj"),u=r.interopDefault(l),f=t("url:./lib/pose_solution_simd_wasm_bin.wasm"),c=r.interopDefault(f),h=t("url:./lib/pose_web.binarypb"),d=r.interopDefault(h),p=t("url:./lib/pose_solution_packed_assets.data"),v=r.interopDefault(p),b=t("url:./lib/selfie_segmentation.binarypb"),y=r.interopDefault(b),m=t("url:./lib/selfie_segmentation_landscape.tflite"),g=r.interopDefault(m),w=t("url:./lib/selfie_segmentation_solution_simd_wasm_bin.sj"),_=r.interopDefault(w),A=t("url:./lib/selfie_segmentation_solution_simd_wasm_bin.wasm"),j=r.interopDefault(A);const x=t("93169adda5bc9880"),S=t("abe401608250fd4d"),E=t("e897943ce8ea8ce"),k=t("5cf18780ae1e41e5"),F=t("6c566e5bfd98d0d"),T=t("3817933d6a2b48"),O=0,R={DOWN:1,UP:-1},C={LEFT:-1,RIGTH:1};x.preload([resources.ball,resources.footer,resources.scorebg]);const U=document.getElementsByClassName("input_video")[0],B=document.getElementsByClassName("output_canvas")[0],L=B.getContext("2d"),M=document.getElementById("vbackground");B.width=M.width,B.height=M.height;let P=!1;const I=loadConfig("juggle",config),D=new class{#t=function(){};#e=function(){};constructor(t,e){this.config=t,this.resources=e,this.#n()}#n(){this.state={display:!1,started:!1,score:0,ball:void 0,collider:void 0,colliderVisible:!1,scorebg:void 0,scoreTitle:void 0,scoreDisplay:void 0,footer:void 0}}setup(){this.display=x.display.getSurface(),this.size=this.display.getSize();let t=x.image.load(this.resources.ball).scale(this.config.ballSize);this.state.ball={img:t,pos:[(this.size[0]-this.config.ballSize[0])/2,20],dir:[O,R.DOWN],size:this.config.ballSize,mask:new S.Mask(t)},this.state.scorebg={img:x.image.load(this.resources.scorebg).scale(this.config.scoreSize),pos:[(this.size[0]-this.config.scoreSize[0])/2,10],size:this.config.scoreSize};let e=.24*this.config.scoreSize[1],n=new x.font.Font(`${e}px QAB`),r=n.render("SCORE: ","#ffff");this.state.scoreTitle={font:n,img:r,pos:[this.state.scorebg.pos[0]+.15*this.state.scorebg.size[0],.8*this.state.scorebg.size[1]-e],size:r.getSize()},this.state.scoreDisplay={font:new x.font.Font(`${e}px QAH`),pos:[this.state.scoreTitle.pos[0]+this.state.scoreTitle.size[0],this.state.scoreTitle.pos[1]]},this.state.footer={img:x.image.load(this.resources.footer).scale(this.config.footerSize),pos:[(this.size[0]-this.config.footerSize[0])/2,this.size[1]-this.config.footerSize[1]],size:this.config.footerSize},this.#r(this.size[0],[0,0])}#r(t,e){0>=t&&(t=10);let n=new x.graphics.Surface([t,10]);this.state.colliderVisible&&n.fill("#ff0000"),this.state.collider={img:n,pos:e,size:[t,10],mask:new S.Mask(n)}}start(){this.displayGame(),setTimeout((()=>{this.state.started=!0}),this.config.gameStartDelay)}displayGame(){this.state.display=!0}onTick(t){console.log(this.state),this.state.display&&(this.display.clear(),this.display.blit(this.state.scorebg.img,this.state.scorebg.pos),this.display.blit(this.state.scoreTitle.font.render("SCORE: ","#ffff"),this.state.scoreTitle.pos),this.display.blit(this.state.scoreDisplay.font.render(`${this.state.score}`,"#ff0000"),this.state.scoreDisplay.pos),this.display.blit(this.state.footer.img,this.state.footer.pos),this.display.blit(this.state.ball.img,this.state.ball.pos),this.display.blit(this.state.collider.img,this.state.collider.pos),this.state.started&&(this.#i(),this.#o(),this.#a(),this.#s()))}#o(){let t=E.multiply([this.config.game.fallSpeed,this.config.game.fallSpeed],this.state.ball.dir);this.state.ball.pos=E.add(this.state.ball.pos,t)}#a(){let t=this.size[1],e=this.state.ball.pos[1];if(e+this.state.ball.size[1]>=t)return void this.#l();if(0>=this.state.ball.dir[1]){0>=e&&(this.state.ball.dir=E.multiply([1,-1],this.state.ball.dir))}let n=this.size[0],r=this.state.ball.pos[0];(r+this.state.ball.size[0]>=n||0>=r)&&(this.state.ball.dir=E.multiply([-1,1],this.state.ball.dir))}#l(){this.#e(),this.#n(),this.setup()}#s(){this.state.score>=this.config.game.winScore&&(this.state.started=!1,this.#t(),this.#n(),this.setup())}#i(){if(this.state.ball.dir[1]===R.UP)return!1;if(this.state.ball&&this.state.collider){let t=E.subtract(this.state.ball.pos,this.state.collider.pos);this.state.collider.mask.overlapRect(this.state.ball.mask,t)&&this.#u(t)}return!1}#u(t){this.state.ball.dir[1]!==R.UP&&(this.state.ball.dir[1]*=-1,this.state.ball.dir[0]=t[0]/this.size[0],this.state.score+=1)}triggerContact(t){this.state.ball.dir[1]!==R.UP&&(this.state.ball.dir[1]*=-1,this.state.ball.dir[0]=t,this.state.score+=1)}onDeath(t){this.#e=t}onWin(t){this.#t=t}updateCollider(t,e){let n=Math.abs(t.x-e.x);if(!n)return void console.error("Invalid points for collider");let r=[(1-Math.max(t.x,e.x))*this.size[0]-this.config.colliderOffset.sides,Math.max(t.y,e.y)*this.size[1]-this.config.colliderOffset.top];n=this.size[0]*n+2*this.config.colliderOffset.sides,this.#r(n,r)}toggleColliderVisible(){this.state.colliderVisible=!this.state.colliderVisible}}(I,resources),{controls:z,camera:N}=function(){const t=new F.Pose({locateFile:t=>{switch(t){case"pose_landmark_full.tflite":return o.default;case"pose_solution_packed_assets_loader.js":return s.default;case"pose_solution_simd_wasm_bin.js":return u.default;case"pose_solution_simd_wasm_bin.wasm":return c.default;case"pose_web.binarypb":return d.default;case"pose_solution_packed_assets.data":return v.default}return`https://cdn.jsdelivr.net/npm/@mediapipe/pose/${t}`}});t.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!0,smoothSegmentation:!0,minDetectionConfidence:.5,minTrackingConfidence:.5});const e=new T.SelfieSegmentation({locateFile:t=>{switch(t){case"selfie_segmentation.binarypb":return y.default;case"selfie_segmentation_landscape.tflite":return g.default;case"selfie_segmentation_solution_simd_wasm_bin.js":return _.default;case"selfie_segmentation_solution_simd_wasm_bin.wasm":return j.default}return`https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/${t}`}});e.setOptions({modelSelection:1}),e.onResults(H);const n=new k.Camera(U,{onFrame:async()=>{await t.send({image:U}),await e.send({image:U})},width:1280,height:720});return{controls:t,camera:n}}();function H(t){L.save(),L.translate(B.width,0),L.scale(-1,1),L.drawImage(t.image,0,0,B.width,B.height),L.globalCompositeOperation="destination-atop",L.drawImage(t.segmentationMask,0,0,B.width,B.height),L.globalCompositeOperation="destination-over",L.drawImage(M,0,0,B.width,B.height),L.restore()}function W(t){document.getElementById(t).classList.add("hidden")}function G(t){document.getElementById(t).classList.remove("hidden")}function K(){P||(W("idle"),G("game"),G("output_canvas"),P=!0,D.start())}function V(){W("game"),W("output_canvas")}x.ready((function(){D.setup(),z.onResults((function(t){if(!t.poseLandmarks)return;let e=t.poseLandmarks[7],n=t.poseLandmarks[8];D.updateCollider(e,n),H(t)})),x.event.onKeyDown((function(t){const e={};e[x.event.K_DOWN]=O,e[x.event.K_LEFT]=C.LEFT,e[x.event.K_RIGHT]=C.RIGTH;let n=e[t.key];void 0!==n&&D.triggerContact(n),t.key==x.event.K_c&&D.toggleColliderVisible()})),D.onDeath((function(){G("lose"),V(),setTimeout((()=>{G("idle"),W("lose"),P=!1}),I.loseCooldownMs)})),D.onWin((function(){G("win"),V(),setTimeout((()=>{G("idle"),W("win"),P=!1}),I.winCooldownMs)})),x.onTick((function(t){D.onTick(t)}))})),z.initialize().then((()=>{N.start().then((()=>{setTimeout((()=>{var t;t="loader",document.getElementById(t).remove(),G("idle")}),1e4),ready=!0}))})),document.addEventListener("keyup",(t=>{switch(t.code){case"KeyS":K();break;case"KeyR":P?location.reload():window.location="/";break;case"KeyP":configurator()}}))},{"93169adda5bc9880":"jD7I1",abe401608250fd4d:"jFqhP",e897943ce8ea8ce:"e2Uu7","5cf18780ae1e41e5":"kbzBC","6c566e5bfd98d0d":"cDzSQ","3817933d6a2b48":"76fxM","url:./lib/pose_landmark_full.tflite":"g4nyw","url:./lib/pose_solution_packed_assets_loader.sj":"lqj90","url:./lib/pose_solution_simd_wasm_bin.sj":"1CsMX","url:./lib/pose_solution_simd_wasm_bin.wasm":"hPQYM","url:./lib/pose_web.binarypb":"bW4Ww","url:./lib/pose_solution_packed_assets.data":"3udE5","url:./lib/selfie_segmentation.binarypb":"11AQa","url:./lib/selfie_segmentation_landscape.tflite":"8yihi","url:./lib/selfie_segmentation_solution_simd_wasm_bin.sj":"8wz3I","url:./lib/selfie_segmentation_solution_simd_wasm_bin.wasm":"h35dA","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"76fxM":[function(t,e,n){var r=arguments[3];(function(){"use strict";var t;function e(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var i=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof r&&r];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(t,e){if(e)t:{var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];if(!(a in r))break t;r=r[a]}(e=e(o=r[t=t[t.length-1]]))!=o&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}function a(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function s(t){var n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:e(t)}}function l(t){if(!(t instanceof Array)){t=s(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}o("Symbol",(function(t){function e(t,e){this.h=t,n(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.h};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function t(n){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(r+(n||"")+"_"+i++,n)}})),o("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<r.length;o++){var s=i[r[o]];"function"==typeof s&&"function"!=typeof s.prototype[t]&&n(s.prototype,t,{configurable:!0,writable:!0,value:function(){return a(e(this))}})}return t}));var u="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};o("Object.assign",(function(t){return t||u}));var f,c="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{var h;t:{var d={};try{d.__proto__={a:!0},h=d.a;break t}catch(t){}h=!1}f=h?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var p=f;function v(t,e){if(t.prototype=c(e.prototype),t.prototype.constructor=t,p)p(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.za=e.prototype}function b(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function y(t){if(t.m)throw new TypeError("Generator is already running");t.m=!0}function m(t,e){t.l={ma:e,na:!0},t.h=t.s||t.v}function g(t,e,n){return t.h=n,{value:e}}function w(t){this.h=new b,this.i=t}function _(t,e,n,r){try{var i=e.call(t.h.j,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.h.m=!1,i;var o=i.value}catch(e){return t.h.j=null,m(t.h,e),A(t)}return t.h.j=null,r.call(t.h,o),A(t)}function A(t){for(;t.h.h;)try{var e=t.i(t.h);if(e)return t.h.m=!1,{value:e.value,done:!1}}catch(e){t.h.i=void 0,m(t.h,e)}if(t.h.m=!1,t.h.l){if(e=t.h.l,t.h.l=null,e.na)throw e.ma;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function j(t){this.next=function(e){return y(t.h),t.h.j?e=_(t,t.h.j.next,e,t.h.u):(t.h.u(e),e=A(t)),e},this.throw=function(e){return y(t.h),t.h.j?e=_(t,t.h.j.throw,e,t.h.u):(m(t.h,e),e=A(t)),e},this.return=function(e){return function(t,e){y(t.h);var n=t.h.j;return n?_(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.h.return):(t.h.return(e),A(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function x(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(r,i){!function t(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(t,i)}(t.next())}))}(new j(new w(t)))}function S(t){return t||Array.prototype.fill}b.prototype.u=function(t){this.i=t},b.prototype.return=function(t){this.l={return:t},this.h=this.v},o("Promise",(function(t){function e(t){this.i=0,this.j=void 0,this.h=[],this.u=!1;var e=this.l();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.h=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.i=function(t){if(null==this.h){this.h=[];var e=this;this.j((function(){e.m()}))}this.h.push(t)};var o=i.setTimeout;n.prototype.j=function(t){o(t,0)},n.prototype.m=function(){for(;this.h&&this.h.length;){var t=this.h;this.h=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.l(t)}}}this.h=null},n.prototype.l=function(t){this.j((function(){throw t}))},e.prototype.l=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.I),reject:t(this.m)}},e.prototype.I=function(t){if(t===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.L(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.F(t):this.s(t)}},e.prototype.F=function(t){var e=void 0;try{e=t.then}catch(t){return void this.m(t)}"function"==typeof e?this.M(e,t):this.s(t)},e.prototype.m=function(t){this.v(2,t)},e.prototype.s=function(t){this.v(1,t)},e.prototype.v=function(t,e){if(0!=this.i)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.i);this.i=t,this.j=e,2===this.i&&this.K(),this.H()},e.prototype.K=function(){var t=this;o((function(){if(t.D()){var e=i.console;void 0!==e&&e.error(t.j)}}),1)},e.prototype.D=function(){if(this.u)return!1;var t=i.CustomEvent,e=i.Event,n=i.dispatchEvent;return void 0===n||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof e?t=new e("unhandledrejection",{cancelable:!0}):(t=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.j,n(t))},e.prototype.H=function(){if(null!=this.h){for(var t=0;t<this.h.length;++t)a.i(this.h[t]);this.h=null}};var a=new n;return e.prototype.L=function(t){var e=this.l();t.T(e.resolve,e.reject)},e.prototype.M=function(t,e){var n=this.l();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.T(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.T=function(t,e){function n(){switch(r.i){case 1:t(r.j);break;case 2:e(r.j);break;default:throw Error("Unexpected state: "+r.i)}}var r=this;null==this.h?a.i(n):this.h.push(n),this.u=!0},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).T(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).T(o(a.length-1),e),i=n.next()}while(!i.done)}))},e})),o("Array.prototype.keys",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t){return t}))}})),o("Array.prototype.fill",(function(t){return t||function(t,e,n){var r=this.length||0;for(0>e&&(e=Math.max(0,r+e)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),e=Number(e||0);e<n;e++)this[e]=t;return this}})),o("Int8Array.prototype.fill",S),o("Uint8Array.prototype.fill",S),o("Uint8ClampedArray.prototype.fill",S),o("Int16Array.prototype.fill",S),o("Uint16Array.prototype.fill",S),o("Int32Array.prototype.fill",S),o("Uint32Array.prototype.fill",S),o("Float32Array.prototype.fill",S),o("Float64Array.prototype.fill",S),o("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),o("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}})),o("String.prototype.includes",(function(t){return t||function(t,e){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(t,e||0)}}));var E=this||self;function k(t,e){t=t.split(".");var n,r=E;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)t.length||void 0===e?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=e}function F(t){var e;return(e=E.navigator)&&(e=e.userAgent)||(e=""),-1!=e.indexOf(t)}var T=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},O={},R=null;function C(t){var e=t.length,n=3*e/4;n%3?n=Math.floor(n):-1!="=.".indexOf(t[e-1])&&(n=-1!="=.".indexOf(t[e-2])?n-2:n-1);var r=new Uint8Array(n),i=0;return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=R[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}U();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){r[i++]=t})),i!==n?r.subarray(0,i):r}function U(){if(!R){R={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=t.concat(e[n].split(""));O[n]=r;for(var i=0;i<r.length;i++){var o=r[i];void 0===R[o]&&(R[o]=i)}}}}var B="undefined"!=typeof Uint8Array,L=!(F("Trident")||F("MSIE"))&&"function"==typeof E.btoa;function M(t){if(!L){var e;void 0===e&&(e=0),U(),e=O[e];for(var n=Array(Math.floor(t.length/3)),r=e[64]||"",i=0,o=0;i<t.length-2;i+=3){var a=t[i],s=t[i+1],l=t[i+2],u=e[a>>2];a=e[(3&a)<<4|s>>4],s=e[(15&s)<<2|l>>6],l=e[63&l],n[o++]=u+a+s+l}switch(u=0,l=r,t.length-i){case 2:l=e[(15&(u=t[i+1]))<<2]||r;case 1:t=t[i],n[o]=e[t>>2]+e[(3&t)<<4|u>>4]+l+r}return n.join("")}for(e="";10240<t.length;)e+=String.fromCharCode.apply(null,t.subarray(0,10240)),t=t.subarray(10240);return e+=String.fromCharCode.apply(null,t),btoa(e)}var P,I=RegExp("[-_.]","g");function D(t){switch(t){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function z(t){if(!L)return C(t);I.test(t)&&(t=t.replace(I,D)),t=atob(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function N(){return P||(P=new Uint8Array(0))}var H={},W="function"==typeof Uint8Array.prototype.slice,G=0,K=0;function V(t){var e=0>t,n=(t=Math.abs(t))>>>0;t=Math.floor((t-n)/4294967296),e&&(e=(n=s(Y(n,t))).next().value,t=n.next().value,n=e),G=n>>>0,K=t>>>0}var J,X="function"==typeof BigInt;function Y(t,e){return e=~e,t?t=1+~t:e+=1,[t,e]}function q(t,e){this.i=t>>>0,this.h=e>>>0}function $(t){if(!t)return J||(J=new q(0,0));if(!/^-?\d+$/.test(t))return null;if(16>t.length)V(Number(t));else if(X)t=BigInt(t),G=Number(t&BigInt(4294967295))>>>0,K=Number(t>>BigInt(32)&BigInt(4294967295));else{var e=+("-"===t[0]);K=G=0;for(var n=t.length,r=e,i=(n-e)%6+e;i<=n;r=i,i+=6)r=Number(t.slice(r,i)),K*=1e6,4294967296<=(G=1e6*G+r)&&(K+=G/4294967296|0,G%=4294967296);e&&(t=(e=s(Y(G,K))).next().value,e=e.next().value,G=t,K=e)}return new q(G,K)}function Q(t,e){return Error("Invalid wire type: "+t+" (at position "+e+")")}function Z(){return Error("Failed to read varint, encoding is invalid.")}function tt(t,e){return Error("Tried to read past the end of the data "+e+" > "+t)}function et(){throw Error("Invalid UTF8")}function nt(t,e){return e=String.fromCharCode.apply(null,e),null==t?e:t+e}var rt,it,ot,at=void 0,st="undefined"!=typeof TextDecoder,lt="undefined"!=typeof TextEncoder;function ut(t){if(t!==H)throw Error("illegal external caller")}function ft(t,e){if(ut(e),this.V=t,null!=t&&0===t.length)throw Error("ByteString should be constructed with non-empty values")}function ct(){return ot||(ot=new ft(null,H))}function ht(t){ut(H);var e=t.V;return null==(e=null==e||B&&null!=e&&e instanceof Uint8Array?e:"string"==typeof e?z(e):null)?e:t.V=e}function dt(t,e){this.i=null,this.m=!1,this.h=this.j=this.l=0,pt(this,t,e)}function pt(t,e,n){n=void 0===n?{}:n,t.S=void 0!==n.S&&n.S,e&&(e=function(t){if("string"==typeof t)return{buffer:z(t),C:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Uint8Array)return{buffer:t,C:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),C:!1};if(t.constructor===ft)return{buffer:ht(t)||N(),C:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}(e),t.i=e.buffer,t.m=e.C,t.l=0,t.j=t.i.length,t.h=t.l)}function vt(t,e){if(t.h=e,e>t.j)throw tt(t.j,e)}function bt(t){var e=t.i,n=t.h,r=e[n++],i=127&r;if(128&r&&(i|=(127&(r=e[n++]))<<7,128&r&&(i|=(127&(r=e[n++]))<<14,128&r&&(i|=(127&(r=e[n++]))<<21,128&r&&(i|=(r=e[n++])<<28,128&r&&128&e[n++]&&128&e[n++]&&128&e[n++]&&128&e[n++]&&128&e[n++])))))throw Z();return vt(t,n),i}function yt(t,e){if(0>e)throw Error("Tried to read a negative byte length: "+e);var n=t.h,r=n+e;if(r>t.j)throw tt(e,t.j-n);return t.h=r,n}dt.prototype.reset=function(){this.h=this.l};var mt=[];function gt(){this.h=[]}function wt(t,e,n){for(;0<n||127<e;)t.h.push(127&e|128),e=(e>>>7|n<<25)>>>0,n>>>=7;t.h.push(e)}function _t(t,e){for(;127<e;)t.h.push(127&e|128),e>>>=7;t.h.push(e)}function At(t,e){if(mt.length){var n=mt.pop();pt(n,t,e),t=n}else t=new dt(t,e);this.h=t,this.j=this.h.h,this.i=this.l=-1,this.setOptions(e)}function jt(t){var e=t.h;if(e.h==e.j)return!1;t.j=t.h.h;var n=bt(t.h)>>>0;if(e=n>>>3,!(0<=(n&=7)&&5>=n))throw Q(n,t.j);if(1>e)throw Error("Invalid field number: "+e+" (at position "+t.j+")");return t.l=e,t.i=n,!0}function xt(t){switch(t.i){case 0:if(0!=t.i)xt(t);else t:{for(var e=(t=t.h).h,n=e+10,r=t.i;e<n;)if(0==(128&r[e++])){vt(t,e);break t}throw Z()}break;case 1:vt(t=t.h,t.h+8);break;case 2:2!=t.i?xt(t):(e=bt(t.h)>>>0,vt(t=t.h,t.h+e));break;case 5:vt(t=t.h,t.h+4);break;case 3:for(e=t.l;;){if(!jt(t))throw Error("Unmatched start-group tag: stream EOF");if(4==t.i){if(t.l!=e)throw Error("Unmatched end-group tag");break}xt(t)}break;default:throw Q(t.i,t.j)}}gt.prototype.length=function(){return this.h.length},gt.prototype.end=function(){var t=this.h;return this.h=[],t},At.prototype.setOptions=function(t){t=void 0===t?{}:t,this.ca=void 0!==t.ca&&t.ca},At.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};var St=[];function Et(){this.j=[],this.i=0,this.h=new gt}function kt(t,e){0!==e.length&&(t.j.push(e),t.i+=e.length)}var Ft="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():void 0;function Tt(t,e){return Ft?t[Ft]|=e:void 0!==t.A?t.A|=e:(Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}}),e)}function Ot(t,e){Ft?t[Ft]&&(t[Ft]&=~e):void 0!==t.A&&(t.A&=~e)}function Rt(t){var e;return null==(e=Ft?t[Ft]:t.A)?0:e}function Ct(t,e){Ft?t[Ft]=e:void 0!==t.A?t.A=e:Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}})}function Ut(t){return Tt(t,1),t}function Bt(t,e){Ct(e,-51&(0|t))}function Lt(t,e){Ct(e,-41&(18|t))}var Mt={};function Pt(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)&&t.constructor===Object}var It,Dt,zt=[];function Nt(t){if(2&Rt(t.o))throw Error("Cannot mutate an immutable Message")}function Ht(t){var e=t.length;(e=e?t[e-1]:void 0)&&Pt(e)?e.g=1:(e={},t.push((e.g=1,e)))}function Wt(t){var e=t.i+t.G;return t.B||(t.B=t.o[e]={})}function Gt(t,e){return-1===e?null:e>=t.i?t.B?t.B[e]:void 0:t.o[e+t.G]}function Kt(t,e,n,r){Nt(t),Vt(t,e,n,r)}function Vt(t,e,n,r){t.j&&(t.j=void 0),e>=t.i||r?Wt(t)[e]=n:(t.o[e+t.G]=n,(t=t.B)&&e in t&&delete t[e])}function Jt(t,e,n,r){var i=Gt(t,e);Array.isArray(i)||(i=It);var o=Rt(i);if(1&o||Ut(i),r)2&o||Tt(i,2),1&n||Object.freeze(i);else{r=!(2&n);var a=2&o;1&n||!a?r&&16&o&&!a&&Ot(i,16):Vt(t,e,i=Ut(Array.prototype.slice.call(i)))}return i}function Xt(t,e){var n=Gt(t,e),r=null==n?n:"number"==typeof n||"NaN"===n||"Infinity"===n||"-Infinity"===n?Number(n):void 0;return null!=r&&r!==n&&Vt(t,e,r),r}function Yt(t,e,n,r,i){t.h||(t.h={});var o=t.h[n],a=Jt(t,n,3,i);if(!o){var s=a;o=[];var l=!!(16&Rt(t.o));a=!!(2&Rt(s));var u=s;!i&&a&&(s=Array.prototype.slice.call(s));for(var f=a,c=0;c<s.length;c++){var h=s[c],d=e,p=!1;if(p=void 0!==p&&p,void 0!==(h=Array.isArray(h)?new d(h):p?new d:void 0)){var v=p=Rt(d=h.o);a&&(v|=2),l&&(v|=16),v!=p&&Ct(d,v),d=v,f=f||!!(2&d),o.push(h)}}return t.h[n]=o,e=33|(l=Rt(s)),l!=(e=f?-9&e:8|e)&&(f=s,Object.isFrozen(f)&&(f=Array.prototype.slice.call(f)),Ct(f,e),s=f),u!==s&&Vt(t,n,s),(i||r&&a)&&Tt(o,2),r&&Object.freeze(o),o}return i||(i=Object.isFrozen(o),r&&!i?Object.freeze(o):!r&&i&&(o=Array.prototype.slice.call(o),t.h[n]=o)),o}function qt(t,e,n){var r=!!(2&Rt(t.o));if(e=Yt(t,e,n,r,r),t=Jt(t,n,3,r),!(r||8&Rt(t))){for(r=0;r<e.length;r++){if(2&Rt((n=e[r]).o)){var i=le(n,!1);i.j=n}else i=n;n!==i&&(e[r]=i,t[r]=i.o)}Tt(t,8)}return e}function $t(t,e,n){if(null!=n&&"number"!=typeof n)throw Error("Value of float/double field must be a number|null|undefined, found "+typeof n+": "+n);Kt(t,e,n)}function Qt(t,e,n,r,i){Nt(t);var o=Yt(t,n,e,!1,!1);return n=null!=r?r:new n,t=Jt(t,e,2,!1),null!=i?(o.splice(i,0,n),t.splice(i,0,n.o)):(o.push(n),t.push(n.o)),n.C()&&Ot(t,8),n}function Zt(t,e){return null==t?e:t}function te(t,e,n){return n=void 0===n?0:n,Zt(Xt(t,e),n)}function ee(t,e,n,r){if(null!=t){if(Array.isArray(t))t=ne(t,e,n,void 0!==r);else if(Pt(t)){var i,o={};for(i in t)o[i]=ee(t[i],e,n,r);t=o}else t=e(t,r);return t}}function ne(t,e,n,r){var i=Rt(t);r=r?!!(16&i):void 0,t=Array.prototype.slice.call(t);for(var o=0;o<t.length;o++)t[o]=ee(t[o],e,n,r);return n(i,t),t}function re(t){return t.ja===Mt?t.toJSON():function(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":if(t)if(Array.isArray(t)){if(0!=(128&Rt(t)))return Ht(t=Array.prototype.slice.call(t)),t}else{if(B&&null!=t&&t instanceof Uint8Array)return M(t);if(t instanceof ft){var e=t.V;return null==e?"":"string"==typeof e?e:t.V=M(e)}}}return t}(t)}function ie(t,e){128&t&&Ht(e)}function oe(t,e,n){if(n=void 0===n?Lt:n,null!=t){if(B&&t instanceof Uint8Array)return t.length?new ft(new Uint8Array(t),H):ct();if(Array.isArray(t)){var r=Rt(t);return 2&r?t:!e||32&r||!(16&r||0===r)?(4&(e=Rt(t=ne(t,oe,4&r?Lt:n,!0)))&&2&e&&Object.freeze(t),t):(Ct(t,2|r),t)}return t.ja===Mt?se(t):t}}function ae(t,e,n,r,i,o,a){if(t=t.h&&t.h[n]){if(2&(r=Rt(t))?r=t:(Lt(r,o=T(t,se)),Object.freeze(o),r=o),Nt(e),a=null==r?It:Ut([]),null!=r){for(o=!!r.length,t=0;t<r.length;t++){var s=r[t];o=o&&!(2&Rt(s.o)),a[t]=s.o}o=1|(o?8:0),((t=Rt(a))&o)!==o&&(Object.isFrozen(a)&&(a=Array.prototype.slice.call(a)),Ct(a,t|o)),e.h||(e.h={}),e.h[n]=r}else e.h&&(e.h[n]=void 0);Vt(e,n,a,i)}else Kt(e,n,oe(r,o,a),i)}function se(t){return 2&Rt(t.o)||Tt((t=le(t,!0)).o,2),t}function le(t,e){var n=t.o,r=[];Tt(r,16);var i=t.constructor.h;if(i&&r.push(i),i=t.B){r.length=n.length,r.fill(void 0,r.length,n.length);var o={};r[r.length-1]=o}0!=(128&Rt(n))&&Ht(r),e=e||t.C()?Lt:Bt,o=t.constructor,Dt=r,r=new o(r),Dt=void 0,t.R&&(r.R=t.R.slice()),o=!!(16&Rt(n));for(var a=i?n.length-1:n.length,s=0;s<a;s++)ae(t,r,s-t.G,n[s],!1,o,e);if(i)for(var l in i)ae(t,r,+l,i[l],!0,o,e);return r}function ue(t,e,n){null==t&&(t=Dt),Dt=void 0;var r,i=this.constructor.i||0,o=0<i,a=this.constructor.h,s=!1;if(null==t){var l=48,u=!0;o&&(i=0,l|=128),Ct(t=a?[a]:[],l)}else{if(!Array.isArray(t))throw Error();if(a&&a!==t[0])throw Error();var f=l=Tt(t,0);if((u=0!=(16&f))&&((s=0!=(32&f))||(f|=32)),o){if(128&f)i=0;else if(0<t.length){var c=t[t.length-1];if(Pt(c)&&"g"in c){i=0,f|=128,delete c.g;var h,d=!0;for(h in c){d=!1;break}d&&t.pop()}}}else if(128&f)throw Error();l!==f&&Ct(t,f)}if(this.G=(a?0:-1)-i,this.h=void 0,this.o=t,i=(a=this.o.length)-1,a&&Pt(a=this.o[i])?(this.B=a,this.i=i-this.G):void 0!==e&&-1<e?(this.i=Math.max(e,i+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE,!o&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n)for(e=u&&!s&&!0,o=this.i,u=0;u<n.length;u++)(s=n[u])<o?(i=t[s+=this.G])?fe(i,e):t[s]=It:(r||(r=Wt(this)),(i=r[s])?fe(i,e):r[s]=It)}function fe(t,e){if(Array.isArray(t)){var n=Rt(t),r=1;!e||2&n||(r|=16),(n&r)!==r&&Ct(t,n|r)}}function ce(t,e,n){if(n){var r,i={};for(r in n){var o=n[r],a=o.ra;a||(i.J=o.xa||o.oa.W,o.ia?(i.aa=ge(o.ia),a=function(t){return function(e,n,r){return t.J(e,n,r,t.aa)}}(i)):o.ka?(i.Z=we(o.da.P,o.ka),a=function(t){return function(e,n,r){return t.J(e,n,r,t.Z)}}(i)):a=i.J,o.ra=a),a(e,t,o.da),i={J:i.J,aa:i.aa,Z:i.Z}}}!function(t,e){if(e=e.R){kt(t,t.h.end());for(var n=0;n<e.length;n++)kt(t,ht(e[n])||N())}}(e,t)}Ct(zt,23),It=Object.freeze(zt),ue.prototype.toJSON=function(){return ne(this.o,re,ie)},ue.prototype.C=function(){return!!(2&Rt(this.o))},ue.prototype.ja=Mt,ue.prototype.toString=function(){return this.o.toString()};var he=Symbol();function de(t,e,n){return t[he]||(t[he]=function(t,r){return e(t,r,n)})}function pe(t){var e=t[he];if(!e){var n=Ce(t);e=function(t,e){return Ue(t,e,n)},t[he]=e}return e}function ve(t){var e=function(t){var e=t.ia;return e?pe(e):(e=t.wa)?de(t.da.P,e,t.ka):void 0}(t),n=t.da,r=t.oa.U;return e?function(t,i){return r(t,i,n,e)}:function(t,e){return r(t,e,n)}}function be(t,e){var n=t[e];return"function"==typeof n&&0===n.length&&(n=n(),t[e]=n),Array.isArray(n)&&(ke in n||_e in n||0<n.length&&"function"==typeof n[0])?n:void 0}function ye(t,e,n,r,i,o){e.P=t[0];var a=1;if(t.length>a&&"number"!=typeof t[a]){var s=t[a++];n(e,s)}for(;a<t.length;){n=t[a++];for(var l=a+1;l<t.length&&"number"!=typeof t[l];)l++;switch(s=t[a++],l-=a){case 0:r(e,n,s);break;case 1:(l=be(t,a))?(a++,i(e,n,s,l)):r(e,n,s,t[a++]);break;case 2:i(e,n,s,l=be(t,l=a++),t[a++]);break;case 3:o(e,n,s,t[a++],t[a++],t[a++]);break;case 4:o(e,n,s,t[a++],t[a++],t[a++],t[a++]);break;default:throw Error("unexpected number of binary field arguments: "+l)}}return e}var me=Symbol();function ge(t){var e=t[me];if(!e){var n=Ee(t);e=function(t,e){return Be(t,e,n)},t[me]=e}return e}function we(t,e){var n=t[me];return n||(n=function(t,n){return ce(t,n,e)},t[me]=n),n}var _e=Symbol();function Ae(t,e){t.push(e)}function je(t,e,n){t.push(e,n.W)}function xe(t,e,n,r){var i=ge(r),o=Ee(r).P,a=n.W;t.push(e,(function(t,e,n){return a(t,e,n,o,i)}))}function Se(t,e,n,r,i,o){var a=we(r,o),s=n.W;t.push(e,(function(t,e,n){return s(t,e,n,r,a)}))}function Ee(t){var e=t[_e];return e||(e=ye(t,t[_e]=[],Ae,je,xe,Se),ke in t&&_e in t&&(t.length=0),e)}var ke=Symbol();function Fe(t,e){t[0]=e}function Te(t,e,n,r){var i=n.U;t[e]=r?function(t,e,n){return i(t,e,n,r)}:i}function Oe(t,e,n,r,i){var o=n.U,a=pe(r),s=Ce(r).P;t[e]=function(t,e,n){return o(t,e,n,s,a,i)}}function Re(t,e,n,r,i,o,a){var s=n.U,l=de(r,i,o);t[e]=function(t,e,n){return s(t,e,n,r,l,a)}}function Ce(t){var e=t[ke];return e||(e=ye(t,t[ke]={},Fe,Te,Oe,Re),ke in t&&_e in t&&(t.length=0),e)}function Ue(t,e,n){for(;jt(e)&&4!=e.i;){var r=e.l,i=n[r];if(!i){var o=n[0];o&&(o=o[r])&&(i=n[r]=ve(o))}if(!i||!i(e,t,r)){r=t,o=(i=e).j,xt(i);var a=i;if(!a.ca){if(i=a.h.h-o,a.h.h=o,a=a.h,0==i)i=ct();else{if(o=yt(a,i),a.S&&a.m)i=a.i.subarray(o,o+i);else{a=a.i;var s=o;i=s===(i=o+i)?N():W?a.slice(s,i):new Uint8Array(a.subarray(s,i))}i=0==i.length?ct():new ft(i,H)}(o=r.R)?o.push(i):r.R=[i]}}}return t}function Be(t,e,n){for(var r=n.length,i=1==r%2,o=i?1:0;o<r;o+=2)(0,n[o+1])(e,t,n[o]);ce(t,e,i?n[0]:void 0)}function Le(t,e){return{U:t,W:e}}var Me=Le((function(t,e,n){if(5!==t.i)return!1;var r=(t=t.h).i,i=t.h,o=r[i],a=r[i+1],s=r[i+2];return r=r[i+3],vt(t,t.h+4),t=2*((a=(o<<0|a<<8|s<<16|r<<24)>>>0)>>31)+1,o=a>>>23&255,a&=8388607,Kt(e,n,255==o?a?NaN:1/0*t:0==o?t*Math.pow(2,-149)*a:t*Math.pow(2,o-150)*(a+Math.pow(2,23))),!0}),(function(t,e,n){if(null!=(e=Xt(e,n))){_t(t.h,8*n+5),t=t.h;var r=+e;0===r?0<1/r?G=K=0:(K=0,G=2147483648):isNaN(r)?(K=0,G=2147483647):34028234663852886e22<(r=(n=0>r?-2147483648:0)?-r:r)?(K=0,G=(2139095040|n)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),K=0,G=(n|r)>>>0):(e=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-e),16777216<=(r=Math.round(8388608*r))&&++e,K=0,G=(n|e+127<<23|8388607&r)>>>0),n=G,t.h.push(n>>>0&255),t.h.push(n>>>8&255),t.h.push(n>>>16&255),t.h.push(n>>>24&255)}})),Pe=Le((function(t,e,n){if(0!==t.i)return!1;var r=t.h,i=0,o=t=0,a=r.i,s=r.h;do{var l=a[s++];i|=(127&l)<<o,o+=7}while(32>o&&128&l);for(32<o&&(t|=(127&l)>>4),o=3;32>o&&128&l;o+=7)t|=(127&(l=a[s++]))<<o;if(vt(r,s),!(128>l))throw Z();return r=i>>>0,(t=2147483648&(l=t>>>0))&&(l=~l>>>0,0==(r=1+~r>>>0)&&(l=l+1>>>0)),r=4294967296*l+(r>>>0),Kt(e,n,t?-r:r),!0}),(function(t,e,n){null!=(e=Gt(e,n))&&("string"==typeof e&&$(e),null!=e&&(_t(t.h,8*n),"number"==typeof e?(t=t.h,V(e),wt(t,G,K)):(n=$(e),wt(t.h,n.i,n.h))))})),Ie=Le((function(t,e,n){return 0===t.i&&(Kt(e,n,bt(t.h)),!0)}),(function(t,e,n){if(null!=(e=Gt(e,n))&&null!=e)if(_t(t.h,8*n),t=t.h,0<=(n=e))_t(t,n);else{for(e=0;9>e;e++)t.h.push(127&n|128),n>>=7;t.h.push(1)}})),De=Le((function(t,e,n){if(2!==t.i)return!1;var r=bt(t.h)>>>0,i=yt(t=t.h,r);if(t=t.i,st){var o,a=t;(o=rt)||(o=rt=new TextDecoder("utf-8",{fatal:!0})),t=i+r,a=0===i&&t===a.length?a:a.subarray(i,t);try{var s=o.decode(a)}catch(t){if(void 0===at){try{o.decode(new Uint8Array([128]))}catch(t){}try{o.decode(new Uint8Array([97])),at=!0}catch(t){at=!1}}throw!at&&(rt=void 0),t}}else{r=(s=i)+r,i=[];for(var l,u,f=null;s<r;)128>(l=t[s++])?i.push(l):224>l?s>=r?et():(u=t[s++],194>l||128!=(192&u)?(s--,et()):i.push((31&l)<<6|63&u)):240>l?s>=r-1?et():128!=(192&(u=t[s++]))||224===l&&160>u||237===l&&160<=u||128!=(192&(a=t[s++]))?(s--,et()):i.push((15&l)<<12|(63&u)<<6|63&a):244>=l?s>=r-2?et():128!=(192&(u=t[s++]))||0!=u-144+(l<<28)>>30||128!=(192&(a=t[s++]))||128!=(192&(o=t[s++]))?(s--,et()):(l=(7&l)<<18|(63&u)<<12|(63&a)<<6|63&o,l-=65536,i.push(55296+(l>>10&1023),56320+(1023&l))):et(),8192<=i.length&&(f=nt(f,i),i.length=0);s=nt(f,i)}return Kt(e,n,s),!0}),(function(t,e,n){if(null!=(e=Gt(e,n))){var r=!1;if(r=void 0!==r&&r,lt){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=(it||(it=new TextEncoder)).encode(e)}else{for(var i=0,o=new Uint8Array(3*e.length),a=0;a<e.length;a++){var s=e.charCodeAt(a);if(128>s)o[i++]=s;else{if(2048>s)o[i++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&a<e.length){var l=e.charCodeAt(++a);if(56320<=l&&57343>=l){s=1024*(s-55296)+l-56320+65536,o[i++]=s>>18|240,o[i++]=s>>12&63|128,o[i++]=s>>6&63|128,o[i++]=63&s|128;continue}a--}if(r)throw Error("Found an unpaired surrogate");s=65533}o[i++]=s>>12|224,o[i++]=s>>6&63|128}o[i++]=63&s|128}}e=i===o.length?o:o.subarray(0,i)}_t(t.h,8*n+2),_t(t.h,e.length),kt(t,t.h.end()),kt(t,e)}})),ze=Le((function(t,e,n,r,i){if(2!==t.i)return!1;e=Qt(e,n,r),n=t.h.j,r=bt(t.h)>>>0;var o=t.h.h+r,a=o-n;if(0>=a&&(t.h.j=o,i(e,t,void 0,void 0,void 0),a=o-t.h.h),a)throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return t.h.h=o,t.h.j=n,!0}),(function(t,e,n,r,i){if(null!=(e=qt(e,r,n)))for(r=0;r<e.length;r++){var o=t;_t(o.h,8*n+2);var a=o.h.end();kt(o,a),a.push(o.i),o=a,i(e[r],t),a=t;var s=o.pop();for(s=a.i+a.h.length()-s;127<s;)o.push(127&s|128),s>>>=7,a.i++;o.push(s),a.i++}}));function Ne(t){return function(e,n){t:{if(St.length){var r=St.pop();r.setOptions(n),pt(r.h,e,n),e=r}else e=new At(e,n);try{var i=Ce(t),o=Ue(new i.P,e,i);break t}finally{(i=e.h).i=null,i.m=!1,i.l=0,i.j=0,i.h=0,i.S=!1,e.l=-1,e.i=-1,100>St.length&&St.push(e)}o=void 0}return o}}function He(t){return function(){var e=new Et;Be(this,e,Ee(t)),kt(e,e.h.end());for(var n=new Uint8Array(e.i),r=e.j,i=r.length,o=0,a=0;a<i;a++){var s=r[a];n.set(s,o),o+=s.length}return e.j=[n],n}}function We(t){ue.call(this,t)}v(We,ue);var Ge=[We,1,Ie,2,Me,3,De,4,De];function Ke(t){ue.call(this,t,-1,Ve)}We.prototype.l=He(Ge),v(Ke,ue),Ke.prototype.addClassification=function(t,e){return Qt(this,1,We,t,e),this};var Ve=[1],Je=Ne([Ke,1,ze,Ge]);function Xe(t){ue.call(this,t)}v(Xe,ue);var Ye=[Xe,1,Me,2,Me,3,Me,4,Me,5,Me];function qe(t){ue.call(this,t,-1,$e)}Xe.prototype.l=He(Ye),v(qe,ue);var $e=[1],Qe=Ne([qe,1,ze,Ye]);function Ze(t){ue.call(this,t)}v(Ze,ue);var tn=[Ze,1,Me,2,Me,3,Me,4,Me,5,Me,6,Pe],en=Ne(tn);function nn(t,e,n){if(n=t.createShader(0===n?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+t.getShaderInfoLog(n));return n}function rn(t){return qt(t,We,1).map((function(t){var e=Gt(t,1);return{index:null==e?0:e,qa:te(t,2),label:null!=Gt(t,3)?Zt(Gt(t,3),""):void 0,displayName:null!=Gt(t,4)?Zt(Gt(t,4),""):void 0}}))}function on(t){return{x:te(t,1),y:te(t,2),z:te(t,3),visibility:null!=Xt(t,4)?te(t,4):void 0}}function an(t,e){this.i=t,this.h=e,this.m=0}function sn(t,e,n){return function(t,e){var n=t.h;if(void 0===t.s){var r=nn(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),i=nn(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=t.s=o,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),t.l={O:n.getAttribLocation(r,"aVertex"),N:n.getAttribLocation(r,"aTex"),ya:i},t.v=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t.v),n.enableVertexAttribArray(t.l.O),n.vertexAttribPointer(t.l.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),t.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t.u),n.enableVertexAttribArray(t.l.N),n.vertexAttribPointer(t.l.N,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=t.l,n.useProgram(t.s),n.canvas.width=e.width,n.canvas.height=e.height,n.viewport(0,0,e.width,e.height),n.activeTexture(n.TEXTURE0),t.i.bindTexture2d(e.glName),n.enableVertexAttribArray(r.O),n.bindBuffer(n.ARRAY_BUFFER,t.v),n.vertexAttribPointer(r.O,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,t.u),n.vertexAttribPointer(r.N,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.O),n.disableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,null),t.i.bindTexture2d(0)}(t,e),"function"==typeof t.h.canvas.transferToImageBitmap?Promise.resolve(t.h.canvas.transferToImageBitmap()):n?Promise.resolve(t.h.canvas):"function"==typeof createImageBitmap?createImageBitmap(t.h.canvas):(void 0===t.j&&(t.j=document.createElement("canvas")),new Promise((function(e){t.j.height=t.h.canvas.height,t.j.width=t.h.canvas.width,t.j.getContext("2d",{}).drawImage(t.h.canvas,0,0,t.h.canvas.width,t.h.canvas.height),e(t.j)})))}function ln(t){this.h=t}Ze.prototype.l=He(tn);var un=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function fn(t,e){return e+t}function cn(t,e){window[t]=e}function hn(t){if(this.h=t,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=t&&t.locateFile||fn,"object"==typeof window)var e=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");e=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.ha=e,t.options)for(var n=(e=s(Object.keys(t.options))).next();!n.done;n=e.next()){n=n.value;var r=t.options[n].default;void 0!==r&&(this.l[n]="function"==typeof r?r():r)}}function dn(t){var e,n,r,i,o,a,s,u,f,c,h;return x((function(d){switch(d.h){case 1:return t.ga?(e=void 0===t.h.files?[]:"function"==typeof t.h.files?t.h.files(t.l):t.h.files,g(d,x((function(t){switch(t.h){case 1:return t.s=2,g(t,WebAssembly.instantiate(un),4);case 4:t.h=3,t.s=0;break;case 2:return t.s=0,t.l=null,t.return(!1);case 3:return t.return(!0)}})),2)):d.return();case 2:if(n=d.i,"object"==typeof window)return cn("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),cn("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),a=e.filter((function(t){return void 0!==t.data})),s=e.filter((function(t){return void 0===t.data})),u=Promise.all(a.map((function(e){var n=pn(t,e.url);if(void 0!==e.path){var r=e.path;n=n.then((function(e){return t.overrideFile(r,e),Promise.resolve(e)}))}return n}))),f=Promise.all(s.map((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n?function(t){var e=document.createElement("script");return e.setAttribute("src",t),e.setAttribute("crossorigin","anonymous"),new Promise((function(t){e.addEventListener("load",(function(){t()}),!1),e.addEventListener("error",(function(){t()}),!1),document.body.appendChild(e)}))}(t.locateFile(e.url,t.ha)):Promise.resolve()}))).then((function(){var e,n,r;return x((function(i){if(1==i.h)return e=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=t,g(i,e(n),2);r.i=i.i,i.h=0}))})),c=x((function(e){return t.h.graph&&t.h.graph.url?e=g(e,pn(t,t.h.graph.url),0):(e.h=0,e=void 0),e})),g(d,Promise.all([f,u,c]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=e.filter((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n})).map((function(e){return t.locateFile(e.url,t.ha)})),importScripts.apply(null,l(r)),i=t,g(d,createMediapipeSolutionsWasm(Module),6);case 6:i.i=d.i,t.m=new OffscreenCanvas(1,1),t.i.canvas=t.m,o=t.i.GL.createContext(t.m,{antialias:!1,alpha:!1,va:"undefined"!=typeof WebGL2RenderingContext?2:1}),t.i.GL.makeContextCurrent(o),d.h=4;break;case 7:if(t.m=document.createElement("canvas"),!(h=t.m.getContext("webgl2",{}))&&!(h=t.m.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),d.return();t.K=h,t.i.canvas=t.m,t.i.createContext(t.m,!0,!0,{});case 4:t.j=new t.i.SolutionWasm,t.ga=!1,d.h=0}}))}function pn(t,e){var n,r;return x((function(i){return e in t.L?i.return(t.L[e]):(n=t.locateFile(e,""),r=fetch(n).then((function(t){return t.arrayBuffer()})),t.L[e]=r,i.return(r))}))}function vn(t,e,n){var r,i,o,a,l,u,f,c,h,d,p,v,b,y;return x((function(m){switch(m.h){case 1:if(!n)return m.return(e);for(r={},i=0,o=s(Object.keys(n)),a=o.next();!a.done;a=o.next())l=a.value,"string"!=typeof(u=n[l])&&"texture"===u.type&&void 0!==e[u.stream]&&++i;1<i&&(t.M=!1),f=s(Object.keys(n)),a=f.next();case 2:if(a.done){m.h=4;break}if(c=a.value,"string"==typeof(h=n[c]))return b=r,y=c,g(m,function(t,e,n){var r;return x((function(i){return"number"==typeof n||n instanceof Uint8Array||n instanceof t.i.Uint8BlobList?i.return(n):n instanceof t.i.Texture2dDataOut?((r=t.v[e])||(r=new an(t.i,t.K),t.v[e]=r),i.return(sn(r,n,t.M))):i.return(void 0)}))}(t,c,e[h]),14);if(d=e[h.stream],"detection_list"===h.type){if(d){for(var w=d.getRectList(),_=d.getLandmarksList(),A=d.getClassificationsList(),j=[],S=0;S<w.size();++S){var E=en(w.get(S)),k=void 0;k=void 0===k?0:k,E={la:{sa:te(E,1),ta:te(E,2),height:te(E,3),width:te(E,4),rotation:te(E,5,0),pa:Zt(Gt(E,6),k)},ea:qt(Qe(_.get(S)),Xe,1).map(on),ba:rn(Je(A.get(S)))},j.push(E)}w=j}else w=[];r[c]=w,m.h=7;break}if("proto_list"===h.type){if(d){for(w=Array(d.size()),_=0;_<d.size();_++)w[_]=d.get(_);d.delete()}else w=[];r[c]=w,m.h=7;break}if(void 0===d){m.h=3;break}if("float_list"===h.type){r[c]=d,m.h=7;break}if("proto"===h.type){r[c]=d,m.h=7;break}if("texture"!==h.type)throw Error("Unknown output config type: '"+h.type+"'");return(p=t.v[c])||(p=new an(t.i,t.K),t.v[c]=p),g(m,sn(p,d,t.M),13);case 13:v=m.i,r[c]=v;case 7:h.transform&&r[c]&&(r[c]=h.transform(r[c])),m.h=3;break;case 14:b[y]=m.i;case 3:a=f.next(),m.h=2;break;case 4:return m.return(r)}}))}function bn(t,e){for(var n=e.name||"$",r=[].concat(l(e.wants)),i=new t.i.StringList,o=s(e.wants),a=o.next();!a.done;a=o.next())i.push_back(a.value);o=t.i.PacketListener.implement({onResults:function(i){for(var o={},a=0;a<e.wants.length;++a)o[r[a]]=i.get(a);var s=t.listeners[n];s&&(t.I=vn(t,o,e.outs).then((function(n){n=s(n);for(var i=0;i<e.wants.length;++i){var a=o[r[i]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(t.I=n)})))}}),t.j.attachMultiListener(i,o),i.delete()}function yn(t){return void 0===t&&(t=0),1===t?"selfie_segmentation_landscape.tflite":"selfie_segmentation.tflite"}function mn(t){var e=this;t=t||{},this.h=new hn({locateFile:t.locateFile,files:function(t){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:yn(t.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(t){var n,r,i;return x((function(o){return 1==o.h?(n=yn(t),r="third_party/mediapipe/modules/selfie_segmentation/"+n,g(o,pn(e.h,n),2)):(i=o.i,e.h.overrideFile(r,i),o.return(!0))}))}}}})}(t=hn.prototype).close=function(){return this.j&&this.j.delete(),Promise.resolve()},t.reset=function(){var t=this;return x((function(e){t.j&&(t.j.reset(),t.s={},t.v={}),e.h=0}))},t.setOptions=function(t,e){var n=this;if(e=e||this.h.options){for(var r=[],i=[],o={},a=s(Object.keys(t)),l=a.next();!l.done;o={X:o.X,Y:o.Y},l=a.next())if(!((l=l.value)in this.l)||this.l[l]!==t[l]){this.l[l]=t[l];var u=e[l];void 0!==u&&(u.onChange&&(o.X=u.onChange,o.Y=t[l],r.push(function(t){return function(){return x((function(e){if(1==e.h)return g(e,t.X(t.Y),2);!0===e.i&&(n.u=!0),e.h=0}))}}(o))),u.graphOptionXref&&(l=Object.assign({},{calculatorName:"",calculatorIndex:0},u.graphOptionXref,{valueNumber:1===u.type?t[l]:0,valueBoolean:0===u.type&&t[l],valueString:2===u.type?t[l]:""}),i.push(l)))}0===r.length&&0===i.length||(this.u=!0,this.H=(void 0===this.H?[]:this.H).concat(i),this.F=(void 0===this.F?[]:this.F).concat(r))}},t.initialize=function(){var t=this;return x((function(e){return 1==e.h?g(e,dn(t),2):3!=e.h?g(e,function(t){var e,n,r,i,o,a,l,u;return x((function(f){if(1==f.h)return t.h.graph&&t.h.graph.url&&t.fa===t.h.graph.url?f.return():(t.u=!0,t.h.graph&&t.h.graph.url?(t.fa=t.h.graph.url,g(f,pn(t,t.h.graph.url),3)):void(f.h=2));for(2!=f.h&&(e=f.i,t.j.loadGraph(e)),n=s(Object.keys(t.D)),r=n.next();!r.done;r=n.next())i=r.value,t.j.overrideFile(i,t.D[i]);if(t.D={},t.h.listeners)for(o=s(t.h.listeners),a=o.next();!a.done;a=o.next())l=a.value,bn(t,l);u=t.l,t.l={},t.setOptions(u),f.h=0}))}(t),3):g(e,function(t){var e,n,r,i,o,a;return x((function(l){switch(l.h){case 1:if(!t.u)return l.return();if(!t.F){l.h=2;break}e=s(t.F),n=e.next();case 3:if(n.done){l.h=5;break}return g(l,(0,n.value)(),4);case 4:n=e.next(),l.h=3;break;case 5:t.F=void 0;case 2:if(t.H){for(r=new t.i.GraphOptionChangeRequestList,i=s(t.H),o=i.next();!o.done;o=i.next())a=o.value,r.push_back(a);t.j.changeOptions(r),r.delete(),t.H=void 0}t.u=!1,l.h=0}}))}(t),0)}))},t.overrideFile=function(t,e){this.j?this.j.overrideFile(t,e):this.D[t]=e},t.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},t.send=function(t,e){var n,r,i,o,a,l,u,f,c,h=this;return x((function(d){switch(d.h){case 1:return h.h.inputs?(n=1e3*(null==e?performance.now():e),g(d,h.I,2)):d.return();case 2:return g(d,h.initialize(),3);case 3:for(r=new h.i.PacketDataList,i=s(Object.keys(t)),o=i.next();!o.done;o=i.next())if(a=o.value,l=h.h.inputs[a]){t:{var p=t[a];switch(l.type){case"video":var v=h.s[l.stream];if(v||(v=new an(h.i,h.K),h.s[l.stream]=v),0===v.m&&(v.m=v.i.createTexture()),"undefined"!=typeof HTMLVideoElement&&p instanceof HTMLVideoElement)var b=p.videoWidth,y=p.videoHeight;else"undefined"!=typeof HTMLImageElement&&p instanceof HTMLImageElement?(b=p.naturalWidth,y=p.naturalHeight):(b=p.width,y=p.height);y={glName:v.m,width:b,height:y},(b=v.h).canvas.width=y.width,b.canvas.height=y.height,b.activeTexture(b.TEXTURE0),v.i.bindTexture2d(v.m),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,p),v.i.bindTexture2d(0),v=y;break t;case"detections":for((v=h.s[l.stream])||(v=new ln(h.i),h.s[l.stream]=v),v.data||(v.data=new v.h.DetectionListData),v.data.reset(p.length),y=0;y<p.length;++y){b=p[y];var m=v.data,w=m.setBoundingBox,_=y,A=b.la,j=new Ze;if($t(j,1,A.sa),$t(j,2,A.ta),$t(j,3,A.height),$t(j,4,A.width),$t(j,5,A.rotation),Kt(j,6,A.pa),A=j.l(),w.call(m,_,A),b.ea)for(m=0;m<b.ea.length;++m){j=b.ea[m],_=(w=v.data).addNormalizedLandmark,A=y,j=Object.assign({},j,{visibility:j.visibility?j.visibility:0});var x=new Xe;$t(x,1,j.x),$t(x,2,j.y),$t(x,3,j.z),j.visibility&&$t(x,4,j.visibility),j=x.l(),_.call(w,A,j)}if(b.ba)for(m=0;m<b.ba.length;++m)_=(w=v.data).addClassification,A=y,j=b.ba[m],$t(x=new We,2,j.qa),j.index&&Kt(x,1,j.index),j.label&&Kt(x,3,j.label),j.displayName&&Kt(x,4,j.displayName),j=x.l(),_.call(w,A,j)}v=v.data;break t;default:v={}}}switch(u=v,f=l.stream,l.type){case"video":r.pushTexture2d(Object.assign({},u,{stream:f,timestamp:n}));break;case"detections":(c=u).stream=f,c.timestamp=n,r.pushDetectionList(c);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return h.j.send(r),g(d,h.I,4);case 4:r.delete(),d.h=0}}))},t.onResults=function(t,e){this.listeners[e||"$"]=t},k("Solution",hn),k("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=mn.prototype).close=function(){return this.h.close(),Promise.resolve()},t.onResults=function(t){this.h.onResults(t)},t.initialize=function(){var t=this;return x((function(e){return g(e,t.h.initialize(),0)}))},t.reset=function(){this.h.reset()},t.send=function(t){var e=this;return x((function(n){return g(n,e.h.send(t),0)}))},t.setOptions=function(t){this.h.setOptions(t)},k("SelfieSegmentation",mn),k("VERSION","0.1.1675465747")}).call(this)},{}],g4nyw:[function(t,e,n){e.exports=t("fec3fca6ecc61dde").getBundleURL("962KW")+"../"+t("dfd2dac02504811a").resolve("eWMFD")},{fec3fca6ecc61dde:"c7Tr5",dfd2dac02504811a:"fyJL2"}],c7Tr5:[function(t,e,n){"use strict";var r={};function i(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n.getBundleURL=function(t){var e=r[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(t)return i(t[2])}return"/"}(),r[t]=e),e},n.getBaseURL=i,n.getOrigin=function(t){var e=(""+t).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^/]+/);if(!e)throw new Error("Origin not found");return e[0]}},{}],lqj90:[function(t,e,n){e.exports=t("7429865e63fa24c8").getBundleURL("962KW")+"../"+t("703c84350fc64779").resolve("MWgxI")},{"7429865e63fa24c8":"c7Tr5","703c84350fc64779":"fyJL2"}],"1CsMX":[function(t,e,n){e.exports=t("3814c475bf9aa4f1").getBundleURL("962KW")+"../"+t("5fb47c6562ef4529").resolve("1J4Jl")},{"3814c475bf9aa4f1":"c7Tr5","5fb47c6562ef4529":"fyJL2"}],hPQYM:[function(t,e,n){e.exports=t("b5bbb9af53adb9d1").getBundleURL("962KW")+"../"+t("3c6af1529fe0bfa5").resolve("c1EjN")},{b5bbb9af53adb9d1:"c7Tr5","3c6af1529fe0bfa5":"fyJL2"}],bW4Ww:[function(t,e,n){e.exports=t("33de5fa3eaf51edd").getBundleURL("962KW")+"../"+t("727b437bf29f696c").resolve("rpL3M")},{"33de5fa3eaf51edd":"c7Tr5","727b437bf29f696c":"fyJL2"}],"3udE5":[function(t,e,n){e.exports=t("3283c96424a2ba3a").getBundleURL("962KW")+"../"+t("a8f3634a2e71d037").resolve("24Etl")},{"3283c96424a2ba3a":"c7Tr5",a8f3634a2e71d037:"fyJL2"}],"11AQa":[function(t,e,n){e.exports=t("40ef987ae69bdb58").getBundleURL("962KW")+"../"+t("c433dc884658154f").resolve("5tZ7i")},{"40ef987ae69bdb58":"c7Tr5",c433dc884658154f:"fyJL2"}],"8yihi":[function(t,e,n){e.exports=t("2fdea673a5c144d8").getBundleURL("962KW")+"../"+t("d72a415d263eb2b2").resolve("cuXAl")},{"2fdea673a5c144d8":"c7Tr5",d72a415d263eb2b2:"fyJL2"}],"8wz3I":[function(t,e,n){e.exports=t("33e5432c8f157f05").getBundleURL("962KW")+"../"+t("6bd2907843d9334f").resolve("frTjF")},{"33e5432c8f157f05":"c7Tr5","6bd2907843d9334f":"fyJL2"}],h35dA:[function(t,e,n){e.exports=t("8dda84bd0eb7dbc1").getBundleURL("962KW")+"../"+t("9726e06b7ecee6ae").resolve("02plv")},{"8dda84bd0eb7dbc1":"c7Tr5","9726e06b7ecee6ae":"fyJL2"}]},["i4URm","d129d"],"d129d","parcelRequire3fb3");
//# sourceMappingURL=index.044857a6.js.map
